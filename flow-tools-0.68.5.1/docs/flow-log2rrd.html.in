<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>flow-log2rrd</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="AEN1"
></A
><TT
CLASS="APPLICATION"
>flow-log2rrd</TT
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN6"
></A
><H2
>Name</H2
><TT
CLASS="APPLICATION"
>flow-log2rrd</TT
>&nbsp;--&nbsp;Process the STAT: lines from <TT
CLASS="APPLICATION"
>flow-capture</TT
> and
<TT
CLASS="APPLICATION"
>flow-fanout</TT
> to RRD files.</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN12"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>flow-log2rrd</B
> [-p<TT
CLASS="REPLACEABLE"
><I
> rrd_path</I
></TT
>]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN17"
></A
><H2
>DESCRIPTION</H2
><P
>The <B
CLASS="COMMAND"
>flow-log2rrd</B
> utility processes the STAT lines
generated by <TT
CLASS="APPLICATION"
>flow-capture</TT
> and <TT
CLASS="APPLICATION"
>flow-fanout</TT
> and converts them into RRD files.  RRD's
are stored as rrd_path/capture|fanout.hostname.srcip.dstip.port.rrd.
The Datastores are flows,pkts,lost representing flows, packets, and lost
flows respectively.  Flow-fanout generates an additional DS nobufs
indicating the number of times a write() failed with ENOBUFS.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN23"
></A
><H2
>OPTIONS</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>-p<TT
CLASS="REPLACEABLE"
><I
> rrd_path</I
></TT
></DT
><DD
><P
>Path to store files.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN31"
></A
><H2
>EXAMPLES</H2
><DIV
CLASS="INFORMALEXAMPLE"
><P
></P
><A
NAME="AEN33"
></A
><P
>Convert flow-capture STAT lines in /var/log/netflow to RRD's in /flows/rrd/.</P
><P
>    <B
CLASS="COMMAND"
>cat /var/log/netflow | flow-rpt2rrd -p /flows/rrd</B
></P
><P
></P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN37"
></A
><H2
>BUGS</H2
><P
>Expects STAT lines every 5 minutes.  Hard coded to 7 days of 5 minute
averages and 365 days of 1 day averages.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN40"
></A
><H2
>AUTHOR</H2
><P
>Mark Fullmer
<CODE
CLASS="EMAIL"
>&#60;<A
HREF="mailto:maf@splintered.net"
>maf@splintered.net</A
>&#62;</CODE
></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN47"
></A
><H2
>SEE ALSO</H2
><P
><TT
CLASS="APPLICATION"
>flow-tools</TT
>(1)</P
></DIV
></BODY
></HTML
>